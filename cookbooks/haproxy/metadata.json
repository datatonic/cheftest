{"name":"haproxy","version":"8.1.0","description":"Installs and configures haproxy","long_description":"# haproxy Cookbook\n\n[![Build Status](https://img.shields.io/circleci/project/github/sous-chefs/haproxy/master.svg)](https://circleci.com/gh/sous-chefs/haproxy)\n[![Cookbook Version](https://img.shields.io/cookbook/v/haproxy.svg)](https://supermarket.chef.io/cookbooks/haproxy)\n[![OpenCollective](https://opencollective.com/sous-chefs/backers/badge.svg)](#backers)\n[![OpenCollective](https://opencollective.com/sous-chefs/sponsors/badge.svg)](#sponsors)\n[![License](https://img.shields.io/badge/License-Apache%202.0-green.svg)](https://opensource.org/licenses/Apache-2.0)\n\nInstalls and configures HAProxy.\n\n## Maintainers\n\nThis cookbook is maintained by the Sous Chefs. The Sous Chefs are a community of Chef cookbook maintainers working together to maintain important cookbooks. If youâ€™d like to know more please visit [sous-chefs.org](https://sous-chefs.org/) or come chat with us on the Chef Community Slack in [#sous-chefs](https://chefcommunity.slack.com/messages/C2V7B88SF).\n\n## Requirements\n\n* HAProxy `stable` or `LTS`\n* Chef 13+\n\n### Platforms\n\nThis cookbook officially supports and is tested against the following platforms:\n\n* debian: 8 & 9\n* ubuntu: 16.04 & 18.04\n* centos: 7\n* amazonlinux: 2\n\nPRs are welcome to add support for additional platforms.\n\n### Examples\n\nPlease check for working examples in [TEST](./test/fixtures/cookbooks/test/)\n\n## Common Resource Features\n\nHAProxy has many configurable options available, this cookbook makes the most popular options available as resource properties.\n\nIf you wish to use a HAProxy property that is not listed the `extra_options` hash is available to take in any number of additional values.\n\nFor example, the ability to disable listeners is not provided out of the box. Further examples can be found in either `test/fixtures/recipes` or `spec/test/recipes`. If you have questions on how this works or would like to add more examples so it is easier to understand, please come talk to us on the [Chef Community Slack](http://community-slack.chef.io/) on the #sous-chefs channel.\n\n```ruby\nhaproxy_listen 'disabled' do\n  bind '0.0.0.0:1337'\n  mode 'http'\n  extra_options('disabled': '')\nend\n```\n\nThe `extra_options` hash is of `String => String` or `String => Array`. When an `Array` value is provided. The values are looped over mapping the key to each value in the config.\n\nFor example:\n\n```ruby\nhaproxy_listen 'default' do\n  extra_options(\n    'http-request' => [ 'set-header X-Public-User yes', 'del-header X-Bad-Header' ]\n    )\nend\n```\n\nBecomes:\n\n```\nlisten default\n  ...\n  http-request set-header X-Public-User yes\n  http-request del-header X-Bad-Header\n```\n\n## Resources\n\n* [haproxy_acl](https://github.com/sous-chefs/haproxy/tree/master/documentation/haproxy_acl.md)\n* [haproxy_backend](https://github.com/sous-chefs/haproxy/tree/master/documentation/haproxy_backend.md)\n* [haproxy_cache](https://github.com/sous-chefs/haproxy/tree/master/documentation/haproxy_cache.md)\n* [haproxy_config_defaults](https://github.com/sous-chefs/haproxy/tree/master/documentation/haproxy_config_defaults.md)\n* [haproxy_config_global](https://github.com/sous-chefs/haproxy/tree/master/documentation/haproxy_config_global.md)\n* [haproxy_frontend](https://github.com/sous-chefs/haproxy/tree/master/documentation/haproxy_frontend.md)\n* [haproxy_install](https://github.com/sous-chefs/haproxy/tree/master/documentation/haproxy_install.md)\n* [haproxy_listen](https://github.com/sous-chefs/haproxy/tree/master/documentation/haproxy_listen.md)\n* [haproxy_mailer](https://github.com/sous-chefs/haproxy/tree/master/documentation/haproxy_mailer.md)\n* [haproxy_peer](https://github.com/sous-chefs/haproxy/tree/master/documentation/haproxy_peer.md)\n* [haproxy_resolver](https://github.com/sous-chefs/haproxy/tree/master/documentation/haproxy_resolver.md)\n* [haproxy_service](https://github.com/sous-chefs/haproxy/tree/master/documentation/haproxy_service.md)\n* [haproxy_use_backend](https://github.com/sous-chefs/haproxy/tree/master/documentation/haproxy_use_backend.md)\n* [haproxy_userlist](https://github.com/sous-chefs/haproxy/tree/master/documentation/haproxy_userlist.md)\n\n## Configuration Validation\n\nThe `haproxy.cfg` file has a few specific rule orderings that will generate validation errors if not loaded properly. If using any combination of the below rules, avoid the errors by loading the rules via `extra_options` to specify the top down order as noted below in config file.\n\n### frontend & listen\n\n```\n  tcp-request connection\n  tcp-request session\n  tcp-request content\n  monitor fail\n  block (deprecated)\n  http-request\n  reqxxx (any req excluding reqadd, e.g. reqdeny, reqallow)\n  reqadd\n  redirect\n  use_backend\n```\n\n```ruby\n  extra_options(\n    'tcp-request' => 'connection set-src src,ipmask(24)',\n    'reqdeny' => '^Host:\\ .*\\.local',\n    'reqallow' => '^Host:\\ www\\.',\n    'use_backend' => 'dynamic'\n  )\n```\n\n### backend\n\n```\n  http-request\n  reqxxx (any req excluding reqadd, e.g. reqdeny, reqallow)\n  reqadd\n  redirect\n```\n\n```ruby\n  extra_options(\n    'http-request' => 'set-path /%[hdr(host)]%[path]',\n    'reqdeny' => '^Host:\\ .*\\.local',\n    'reqallow' => '^Host:\\ www\\.',\n    'redirect' => 'dynamic'\n  )\n```\n\n## Contributors\n\nThis project exists thanks to all the people who [contribute.](https://opencollective.com/sous-chefs/contributors.svg?width=890&button=false)\n\n### Backers\n\nThank you to all our backers!\n\n![https://opencollective.com/sous-chefs#backers](https://opencollective.com/sous-chefs/backers.svg?width=600&avatarHeight=40)\n\n### Sponsors\n\nSupport this project by becoming a sponsor. Your logo will show up here with a link to your website.\n\n![https://opencollective.com/sous-chefs/sponsor/0/website](https://opencollective.com/sous-chefs/sponsor/0/avatar.svg?avatarHeight=100)\n![https://opencollective.com/sous-chefs/sponsor/1/website](https://opencollective.com/sous-chefs/sponsor/1/avatar.svg?avatarHeight=100)\n![https://opencollective.com/sous-chefs/sponsor/2/website](https://opencollective.com/sous-chefs/sponsor/2/avatar.svg?avatarHeight=100)\n![https://opencollective.com/sous-chefs/sponsor/3/website](https://opencollective.com/sous-chefs/sponsor/3/avatar.svg?avatarHeight=100)\n![https://opencollective.com/sous-chefs/sponsor/4/website](https://opencollective.com/sous-chefs/sponsor/4/avatar.svg?avatarHeight=100)\n![https://opencollective.com/sous-chefs/sponsor/5/website](https://opencollective.com/sous-chefs/sponsor/5/avatar.svg?avatarHeight=100)\n![https://opencollective.com/sous-chefs/sponsor/6/website](https://opencollective.com/sous-chefs/sponsor/6/avatar.svg?avatarHeight=100)\n![https://opencollective.com/sous-chefs/sponsor/7/website](https://opencollective.com/sous-chefs/sponsor/7/avatar.svg?avatarHeight=100)\n![https://opencollective.com/sous-chefs/sponsor/8/website](https://opencollective.com/sous-chefs/sponsor/8/avatar.svg?avatarHeight=100)\n![https://opencollective.com/sous-chefs/sponsor/9/website](https://opencollective.com/sous-chefs/sponsor/9/avatar.svg?avatarHeight=100)\n","maintainer":"Sous Chefs","maintainer_email":"help@sous-chefs.org","license":"Apache-2.0","platforms":{"debian":">= 0.0.0","ubuntu":">= 0.0.0","centos":">= 0.0.0","amazon":">= 0.0.0","opensuseleap":">= 0.0.0"},"dependencies":{"build-essential":">= 8.0.1","yum-epel":">= 0.0.0"},"recommendations":{},"suggestions":{},"conflicting":{},"providing":{},"replacing":{},"attributes":{},"groupings":{},"recipes":{},"source_url":"https://github.com/sous-chefs/haproxy","issues_url":"https://github.com/sous-chefs/haproxy/issues","chef_version":[[">= 13.0"]],"ohai_version":[]}